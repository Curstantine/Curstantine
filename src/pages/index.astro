---
import { Image } from "astro:assets";

import {
	CV,
	EMAIL,
	FONT_MONO_ATTR,
	FONT_SANS_ATTR,
	GITHUB,
	GITLAB,
	ICON_BXL_ATTR,
	ICON_GRAVITY_ATTR,
	ICON_SYMBOLS_ATTR,
	LASTFM,
	LINKEDIN,
	PROJECTS,
	REALTIME_ATTR,
	SONOKAI_ATTR,
	TWITTER,
	WORK,
} from "~/utils/constants";

import Layout from "~/layouts/Layout.astro";

import CurrentlyListening from "~/components/CurrentlyListening.tsx";
import Project from "~/components/Project.astro";

import profileImage from "~/images/profile.png";
---

<Layout title="Curstantine">
	<main class="grid min-h-screen grid-cols-1 lg:container lg:grid-cols-[20rem_1fr] xl:grid-cols-[20rem_1fr_16rem] 2xl:grid-cols-[20rem_1fr_20rem]">
		<div class="flex flex-col items-center border-r-0 border-r-text-3 px-8 pt-12 pb-4 lg:sticky lg:inset-y-4 lg:left-0 lg:max-h-[calc(100vh-2rem)] lg:border-r lg:pt-4">
			<Image
				src={profileImage}
				alt=""
				quality={100}
				priority
				loading="eager"
				widths={[256, 512, profileImage.width]}
				sizes={`256px, (min-width: 1024px): 512px, (min-width: 1280px): ${profileImage.width}px`}
				class="size-48 rounded-lg"
				draggable={false}
			/>

			<div class="flex flex-1 flex-col items-center pt-4 pb-8 lg:pb-0">
				<h1 class="text-3xl leading-8 font-medium tracking-tight">Curstantine</h1>
				<span class="text-sm text-text-2">FE, BE and Mobile SWE</span>
			</div>

			<div class="grid w-full max-w-lg grid-cols-5 justify-items-center gap-4 text-accent-1">
				<a
					target="_blank"
					aria-label="GitHub"
					href={GITHUB}
					class="iconify bxl--github size-6"
				/>
				<a
					target="_blank"
					aria-label="GitLab"
					href={GITLAB}
					class="iconify bxl--gitlab size-6"
				/>
				<a
					target="_blank"
					aria-label="Twitter"
					href={TWITTER}
					class="iconify bxl--twitter size-6"
				/>
				<a
					target="_blank"
					aria-label="LinkedIn"
					href={LINKEDIN}
					class="iconify bxl--linkedin size-6"
				/>
				<a
					target="_blank"
					aria-label="Last.fm"
					href={LASTFM}
					class="iconify pref--lastfm size-6"
				/>
			</div>
		</div>

		<div class="flex flex-1 flex-col gap-2 px-6">
			<div id="about" class="prose lg:max-w-2xl">
				<h2>#about</h2>
				<p>
					Generic software engineer of sorts. Currently pursuing an SE degree at UoW. (IIT, LK) <br />
					Enthusiastic about making the web a faster and a better place.
				</p>
				<p>
					You can also see my CV <a target="_blank" href={CV}>here.</a>
					<br />
					For work, reach me out at <a href={`mailto:${EMAIL}`}>{EMAIL}</a>
				</p>
			</div>

			<div id="projects" class="prose">
				<h2>#projects</h2>
				<ul class="space-y-2">
					{PROJECTS.map((project) => <Project {project} />)}
				</ul>
			</div>

			<div id="work" class="prose">
				<h2>#work</h2>
				<ul class="space-y-2">
					{WORK.map((project) => <Project {project} />)}
				</ul>
			</div>

			<div id="attributions" class="prose">
				<h2>#attributions</h2>
				<ul>
					<li>
						<span>
							Fonts: <a href={FONT_SANS_ATTR}>IBM Plex Sans</a>{", "}
							<a href={FONT_MONO_ATTR}>JetBrains Mono</a>
						</span>
					</li>
					<li>
						Iconsets: <a href={ICON_BXL_ATTR}>BoxIcons Logo</a>,
						<a href={ICON_SYMBOLS_ATTR}>Material Symbols</a>,
						<a href={ICON_GRAVITY_ATTR}>Gravity UI</a>
					</li>
					<li>
						Dark color palette: <a href={SONOKAI_ATTR}>Sonokai Andromeda</a>
					</li>
					<li>
						Light color palette: <a href={REALTIME_ATTR}>Realtime Colors</a>
					</li>
				</ul>
			</div>

			<div class="mt-4 flex flex-1 flex-col justify-end xl:pb-4">
				<p class="text-sm text-text-2">Written in Astro, SolidJS and styled with UnoCSS.</p>
			</div>
		</div>

		<div class="grid h-fit gap-6 p-6 lg:col-start-2 xl:sticky xl:top-0 xl:col-start-auto xl:px-0 xl:pb-0">
			<div class="">
				<div class="mb-1 inline-flex items-center text-text-2">
					<div class="iconify size-4 gravity-ui--wrench mr-2" />
					<span class="text-sm select-none">Tools</span>
				</div>
				<ul class="font-mono text-sm">
					<li>
						<a href="/tools/favicon">
							to_favicon<span class="text-accent-1">()</span>
						</a>
					</li>
				</ul>
			</div>
			<CurrentlyListening client:only="solid-js" />
		</div>
	</main>
</Layout>
